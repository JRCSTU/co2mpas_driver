<html>
 <body>
  <div>
   <input onclick="window.history.back()" type="button" value="Back"/>
   <input onclick="window.history.forward()" type="button" value="Forward"/>
  </div>
  <html>
   <body>
    <div class="highlight" style="background: #f8f8f8">
     <pre style="line-height: 125%"><span></span><span style="color: #AA22FF">@sh</span><span style="color: #666666">.</span>add_function(dsp)
<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">plot_and_save_simulation_result</span>(times, speeds,
                                    acceleration, Start, Stop, Curves):
    <span style="color: #BA2121; font-style: italic">"""</span>
<span style="color: #BA2121; font-style: italic">    Plot simulation result.</span>

<span style="color: #BA2121; font-style: italic">    :param output_plot_folder:</span>
<span style="color: #BA2121; font-style: italic">        Output folder to save simulation results.</span>
<span style="color: #BA2121; font-style: italic">    :type output_plot_folder: str</span>

<span style="color: #BA2121; font-style: italic">    :param times:</span>
<span style="color: #BA2121; font-style: italic">        Sample time series.</span>
<span style="color: #BA2121; font-style: italic">    :type times: np.array</span>

<span style="color: #BA2121; font-style: italic">    :param speeds:</span>
<span style="color: #BA2121; font-style: italic">        Speed of the vehicle.</span>
<span style="color: #BA2121; font-style: italic">    :type speeds: list</span>

<span style="color: #BA2121; font-style: italic">    :param acceleration:</span>
<span style="color: #BA2121; font-style: italic">        Acceleration of vehicle.</span>
<span style="color: #BA2121; font-style: italic">    :type acceleration: list</span>

<span style="color: #BA2121; font-style: italic">    :param Start:</span>
<span style="color: #BA2121; font-style: italic">        Simulation start time.</span>
<span style="color: #BA2121; font-style: italic">    :type Start: list</span>

<span style="color: #BA2121; font-style: italic">    :param Stop:</span>
<span style="color: #BA2121; font-style: italic">        Simulation stop time.</span>
<span style="color: #BA2121; font-style: italic">    :type Stop: list</span>

<span style="color: #BA2121; font-style: italic">    :param Curves:</span>
<span style="color: #BA2121; font-style: italic">        Final acceleration curves.</span>
<span style="color: #BA2121; font-style: italic">    :type Curves: list</span>
<span style="color: #BA2121; font-style: italic">    :return:</span>
<span style="color: #BA2121; font-style: italic">    """</span>

    output_plot_dir <span style="color: #666666">=</span> osp<span style="color: #666666">.</span>dirname(<span style="color: #19177C">__file__</span>) <span style="color: #666666">+</span> <span style="color: #BA2121">'/'</span> <span style="color: #666666">+</span> <span style="color: #BA2121">'output'</span>
    <span style="color: #008000; font-weight: bold">if</span> <span style="color: #AA22FF; font-weight: bold">not</span> osp<span style="color: #666666">.</span>exists(output_plot_dir):
        mkdir(output_plot_dir)

    plt<span style="color: #666666">.</span>figure(<span style="color: #BA2121">'Time-Speed'</span>)
    plt<span style="color: #666666">.</span>plot(times, speeds[<span style="color: #666666">1</span>:])
    plt<span style="color: #666666">.</span>grid()
    plt<span style="color: #666666">.</span>savefig(output_plot_dir <span style="color: #666666">+</span> <span style="color: #BA2121">'/'</span> <span style="color: #666666">+</span> <span style="color: #BA2121">'time_speed_plot.png'</span>)
    plt<span style="color: #666666">.</span>figure(<span style="color: #BA2121">'Speed-Acceleration'</span>)
    plt<span style="color: #666666">.</span>plot(speeds[<span style="color: #666666">1</span>:], acceleration[<span style="color: #666666">1</span>:])
    plt<span style="color: #666666">.</span>grid()
    plt<span style="color: #666666">.</span>savefig(output_plot_dir <span style="color: #666666">+</span> <span style="color: #BA2121">'/'</span> <span style="color: #666666">+</span> <span style="color: #BA2121">'speed_acceleration_plot.png'</span>)
    plt<span style="color: #666666">.</span>figure(<span style="color: #BA2121">'Acceleration-Time'</span>)
    plt<span style="color: #666666">.</span>plot(times, acceleration[<span style="color: #666666">1</span>:])
    plt<span style="color: #666666">.</span>grid()
    plt<span style="color: #666666">.</span>savefig(output_plot_dir <span style="color: #666666">+</span> <span style="color: #BA2121">'/'</span> <span style="color: #666666">+</span> <span style="color: #BA2121">'acceleration_time_plot.png'</span>)

    plt<span style="color: #666666">.</span>figure(<span style="color: #BA2121">'Speed-Acceleration'</span>)
    <span style="color: #008000; font-weight: bold">for</span> i, gear_curve <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">enumerate</span>(Curves):
        sp_bins <span style="color: #666666">=</span> np<span style="color: #666666">.</span>arange(Start[i], Stop[i] <span style="color: #666666">+</span> <span style="color: #666666">0.1</span>, <span style="color: #666666">0.1</span>)
        accelerations <span style="color: #666666">=</span> gear_curve(sp_bins)
        plt<span style="color: #666666">.</span>plot(sp_bins, accelerations, <span style="color: #BA2121">'k'</span>)
    plt<span style="color: #666666">.</span>grid()
    plt<span style="color: #666666">.</span>show()

    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">0</span>
</pre>
    </div>
   </body>
  </html>
 </body>
</html>